@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    List<QuickTypeCad.Cad> allcad = (List<QuickTypeCad.Cad>)ViewData["allcad"];
}


    <div class="text-center">
        <h1 class="display-4">Reported Drug Activity in Cincinnati</h1>
        <p>Learn more in detail about drug activities taking place in Cincinnati</p>
        <div class="row">

            <div class="col-2">
                @if (allcad.Count() > 0)
                { var type_count = allcad.GroupBy(t => t.IncidentTypeId)
                .Select(t => new
                {
                    Type = t.Key,
                    Count = t.Count()
                }).ToList();
                foreach (var a in type_count)
                {
                <div class="w3-row-padding w3-margin-bottom">
                    <div class="w3-quarter">
                        <div class="w3-clear">
                            <button type="button" class="btn btn-info">                                
                                <h3>@a.Count</h3><br />
                                <h6>@a.Type</h6>
                            </button>
                        </div>
                    </div>
                </div>
                }
                }
            </div>
            <div class="col-10">

                <table class="table table-striped table-hover table-danger border-bottom overflow-auto table-responsive">

                    <tr>
                        <th>
                            <a href="#" data-toggle="tooltip" title="Each event has 15 digit alphanumeric id">Event Number</a>
                        </th>
                        <th>
                            <a href="#" data-toggle="tooltip" title="It gives description about the incident">Incident ID</a>
                        </th>
                        <th>
                            <a href="#" data-toggle="tooltip" title="Communities affected due to incident">Community</a>
                        </th>
                        <th>
                            <a href="#" data-toggle="tooltip" title="Address where incident happended">Address</a>
                        </th>
                        <th>
                            <a href="#" data-toggle="tooltip">Reported Time</a>
                        </th>
                        @*<th>
                            <a href="#" data-toggle="tooltip" title="Yellow suggests medium priority">Priority</a>
                        </th>*@
                        <th>
                            <a href="#" data-toggle="tooltip">Latitude</a>
                        </th>
                        <th>
                            <a href="#" data-toggle="tooltip">Longitude</a>
                        </th>
                    </tr>
                    @{
                        @foreach (QuickTypeCad.Cad cad in allcad)
                        {
                            <tr>
                                <td>@cad.EventNumber</td>
                                <td>@cad.IncidentTypeId</td>
                                <td>@cad.SnaNeighborhood</td>
                                <td>@cad.AddressX</td>
                                <td>@cad.CreateTimeIncident</td>
                                @*<td>@cad.PriorityColor</td>*@
                                <td>@cad.LatitudeX</td>
                                <td>@cad.LongitudeX</td>

                            </tr>
                        }
                    }
                </table>
            </div>
            </div>
        </div>